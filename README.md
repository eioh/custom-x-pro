# Custom X Pro

X Proで特定のユーザーの投稿を非表示にするTampermonkeyスクリプトです。

## 機能

- ユーザーIDを指定して投稿を非表示
- Tampermonkeyメニューから簡単にユーザーIDを追加
- 非表示リストをJSON形式でエクスポート
- JSONファイルをインポートして非表示リストを上書き
- 指定したリストカラムではメディア付きポストのみを表示
- 設定はブラウザに永続化

## 開発

### 前提条件

- Node.js (v16以上推奨)
- npm

### セットアップ

```bash
npm install
```

### ビルド

```bash
# 一度だけビルド
npm run build

# ファイル変更を監視して自動ビルド
npm run watch
```

ビルドされたファイルは `dist/main.js` に出力されます。

### インストール

1. `npm run build` でビルド
2. Tampermonkeyで `dist/main.js` の内容をコピー＆ペースト
3. X Proのデッキページで動作確認

### エクスポート/インポート

- Tampermonkeyのメニューに表示される「非表示リストをエクスポート」からJSONファイルをダウンロードできます。
- 同じく「非表示リストをインポート」でエクスポート済みのJSONファイルを選択すると、フォーマットを検証したうえで非表示リストとメディアフィルタ対象リストを上書きします。

### メディアフィルタ

- Tampermonkeyメニューの「メディアフィルタ対象リストを追加」から、メディアのみ表示したいリスト名を登録できます（初期状態では無効）。
- 対象リストのカラムでは、画像/動画/GIF/メディアリンクを含まないポストが自動で非表示になります。
- 監視対象カラムのセレクターなどを調整したい場合は `src/config.js` の `CONFIG.MEDIA_FILTER` を編集してください。
- リスト名は大文字小文字を区別するため、X Pro上の表記と同じ文字列を入力してください。

### プロジェクト構成

```
custom_x_pro/
├── src/               # ソースコード
│   ├── config.js      # 設定定数
│   ├── ConfigManager.js
│   ├── FilterEngine.js
│   ├── App.js
│   └── index.js       # エントリーポイント
├── dist/              # ビルド出力
│   └── main.js        # Tampermonkeyスクリプト
├── test/              # テスト
└── AGENTS.md          # 開発ルール
```

### テスト

```bash
npm test
```

## ライセンス

MIT
